<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="10 685 2676 780" width="223pc" height="65pc" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata> Produced by OmniGraffle 6.5.2 <dc:date>2016-04-06 14:39:43 +0000</dc:date></metadata><defs><font-face font-family="Helvetica Neue" font-size="16" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.99585" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face font-family="Heiti SC" font-size="16" panose-1="2 0 0 0 0 0 0 0 0 0" units-per-em="1000" underline-position="-133" underline-thickness="20" slope="0" x-height="591" cap-height="778" ascent="860.0006" descent="-139.99939" font-weight="300"><font-face-src><font-face-name name="STHeitiSC-Light"/></font-face-src></font-face><font-face font-family="Helvetica Neue" font-size="16" panose-1="2 0 4 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="530" cap-height="728" ascent="966.99524" descent="-212.99744" font-weight="300"><font-face-src><font-face-name name="HelveticaNeue-Light"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-1 -3 6 6" markerWidth="6" markerHeight="6" color="blue"><g><path d="M 3.2 0 L 0 -1.2 L 0 1.2 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_3" viewBox="-1 -3 6 6" markerWidth="6" markerHeight="6" color="red"><g><path d="M 3.2 0 L 0 -1.2 L 0 1.2 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_4" viewBox="-1 -3 6 6" markerWidth="6" markerHeight="6" color="lime"><g><path d="M 3.2 0 L 0 -1.2 L 0 1.2 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_5" viewBox="-1 -3 6 6" markerWidth="6" markerHeight="6" color="black"><g><path d="M 3.2 0 L 0 -1.2 L 0 1.2 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_6" viewBox="-5 -3 6 6" markerWidth="6" markerHeight="6" color="red"><g><path d="M -3.2 0 L 0 1.2 L 0 -1.2 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica Neue" font-size="60" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.99585" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>VIO</title><rect fill="white" width="2700" height="3250"/><g><title>图层 1</title><rect x="2425" y="700" width="250" height="750" fill="white"/><rect x="2425" y="700" width="250" height="750" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2430 1030)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="85.624" y="33" textLength="68.752">UpperSM</tspan></text><rect x="2075" y="1012.5" width="250" height="125" fill="white"/><rect x="2075" y="1012.5" width="250" height="125" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2080 1120)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="44.144" y="15" textLength="151.712">UpperSessionAccept</tspan></text><rect x="250" y="700" width="1025" height="750" fill="white"/><path d="M 250 700 L 1275 700 L 1275 1450 L 250 1450 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><rect x="275" y="925" width="975" height="300" fill="white"/><rect x="275" y="925" width="975" height="300" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(280 1066)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="409.012" y="15" textLength="146.976">SSLNetVConnection</tspan></text><rect x="1375" y="850" width="250" height="217.5" fill="white"/><rect x="1375" y="850" width="250" height="217.5" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1380 850)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="19.104" y="15" textLength="78.8">SSLNextPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="97.616" y="15" textLength="53.92">otocolT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="150.064" y="15" textLength="70.832">rampoline</tspan></text><rect x="25" y="700" width="200" height="750" fill="white"/><rect x="25" y="700" width="200" height="750" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><text transform="translate(80 1445) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="329.408" y="51" textLength="81.184">NetHandler</tspan></text><rect x="275" y="1300" width="650" height="125" fill="white"/><rect x="275" y="1300" width="650" height="125" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(280 1345.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="306.96" y="15" textLength="26.08">VIO</tspan><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="247.016" y="32" textLength="145.968">(Netstate write.vio)</tspan></text><rect x="700" y="1300" width="200" height="50" fill="white"/><rect x="700" y="1300" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(705 1316)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="9.664" y="15" textLength="170.672">VConnection *vc_server</tspan></text><rect x="300" y="1375" width="200" height="50" fill="white"/><rect x="300" y="1375" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(305 1391)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="2.056" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="61.384" y="15" textLength="112.64">erAccessor buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="174.024" y="15" textLength="13.92">er</tspan></text><rect x="500" y="1050" width="150" height="50" fill="white"/><rect x="500" y="1050" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(505 1057)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="300" x="36.952" y="15" textLength="66.096">Socket fd</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="300" x="2.568" y="33" textLength="134.864">(Connection con.fd)</tspan></text><line x1="796.25" y1="850" x2="786.46857" y2="915.20953" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="796.25" y1="1300" x2="786.46857" y2="1234.7905" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 299.99999 1393.33316 C 197.66042 1382.55575 80 1362.5 80 1362.5 C 80 1362.5 62.5 1267.5 62.5 1267.5 C 62.5 1267.5 80 1162.5 80 1162.5 C 80 1162.5 185.57637 1142.19685 281.19873 1131.4691" marker-end="url(#FilledArrow_Marker_2)" stroke="blue" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="150" y="1237.5" width="50" height="150" fill="white"/><rect x="150" y="1237.5" width="50" height="150" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(166 1382.5) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="11.792" y="15" textLength="116.416">write_to_net(_io)</tspan></text><rect x="2450" y="725" width="200" height="50" fill="white"/><rect x="2450" y="725" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2455 741)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="37.768" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="97.096" y="15" textLength="55.136">er mbuf</tspan></text><rect x="2450" y="1375" width="200" height="50" fill="white"/><rect x="2450" y="1375" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2455 1391)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="37.768" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="97.096" y="15" textLength="55.136">er mbuf</tspan></text><line x1="2450" y1="1400" x2="518.9" y2="1400" marker-end="url(#FilledArrow_Marker_2)" stroke="blue" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="1100" y="930" width="125" height="100" fill="white"/><rect x="1100" y="930" width="125" height="100" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><text transform="translate(1105 971)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="10.684" y="15" textLength="93.632">InactivityCop</tspan></text><rect x="900" y="955" width="150" height="50" fill="white"/><rect x="900" y="955" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(905 971)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="32.504" y="15" textLength="74.992">mainEvent</tspan></text><line x1="1095" y1="980" x2="1068.9" y2="980" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="1400" y="887.5" width="200" height="50" fill="white"/><rect x="1400" y="887.5" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1405 894.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="27.136" y="15" textLength="135.728">ioCompletionEvent</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="50.992" y="33" textLength="88.016">(event, data)</tspan></text><rect x="2450" y="1287.5" width="200" height="50" fill="white"/><rect x="2450" y="1287.5" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2455 1303.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="5.664" y="15" textLength="178.672">handle_write(event, data)</tspan></text><rect x="810.3372" y="1385" width="109" height="30" fill="white"/><text transform="translate(815.3372 1391)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".284" y="15" textLength="27.616">buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="27.9" y="15" textLength="13.92">er</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="40.348" y="15" textLength="9.776">.r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="49.836" y="15" textLength="48.88">eader()</tspan></text><rect x="700" y="1e3" width="150" height="50" fill="white"/><rect x="700" y="1e3" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(705 1007)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="33.376" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="92.704" y="15" textLength="18.368">er </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="5.368" y="33" textLength="115.344">*handShakeBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="120.712" y="33" textLength="13.92">er</tspan></text><line x1="188.1579" y1="900" x2="196.1064" y2="937.7554" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="702.5" y="1100" width="150" height="50" fill="white"/><rect x="702.5" y="1100" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(707.5 1107)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="53.704" y="15" textLength="32.592">rBIO</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="28.616" y="33" textLength="82.768">=BIO_new()</tspan></text><line x1="775.625" y1="1050" x2="776.40265" y2="1081.1059" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="500" y="1150" width="150" height="50" fill="white"/><rect x="500" y="1150" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(505 1166)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="29.848" y="15" textLength="80.304">SSLAccept</tspan></text><line x1="702.5" y1="1143.5185" x2="668.34894" y2="1151.9509" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="300" y="1100" width="150" height="50" fill="white"/><rect x="300" y="1100" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(305 1108)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="50.304" y="15" textLength="39.392">wBIO</tspan><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="3.568" y="32" textLength="132.864">=BIO_new_fd(vc)</tspan></text><line x1="500" y1="1156.25" x2="468.3357" y2="1148.3339" marker-end="url(#FilledArrow_Marker_2)" stroke="blue" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="450" y1="1106.25" x2="481.6643" y2="1098.3339" marker-end="url(#FilledArrow_Marker_2)" stroke="blue" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><path d="M 299.99999 1020.58285 C 198.55813 1010.66715 75 987.5 75 987.5 C 75 987.5 60 887.5 60 887.5 C 60 887.5 75 787.5 75 787.5 C 75 787.5 181.98926 769.66846 281.20408 758.5976" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="50" y="787.5" width="50" height="200" fill="white"/><rect x="50" y="787.5" width="50" height="200" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(66 982.5) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="29.8" y="15" textLength="32.88">ssl_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="62.392" y="15" textLength="44.736">ead_fr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="106.84" y="15" textLength="53.36">om_net</tspan></text><line x1="150" y1="850" x2="116.904674" y2="866.54766" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="150" y="775" width="50" height="125" fill="white"/><rect x="150" y="775" width="50" height="125" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(166 895) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="16.012" y="15" textLength="35.856">net_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="51.58" y="15" textLength="47.408">ead_io</tspan></text><rect x="2100" y="1037.5" width="200" height="75" fill="white"/><rect x="2100" y="1037.5" width="200" height="75" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2105 1039)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="42.544" y="15" textLength="104.912">handle_accept</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="71.144" y="33" textLength="52.16">(netvc, </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="54.192" y="51" textLength="86.064">this-&gt;iobuf, </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="67.888" y="69" textLength="5.328">r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="72.928" y="69" textLength="49.184">eader);</tspan></text><line x1="975" y1="1100" x2="975" y2="1131.1" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="2075" y="755" width="250" height="170" fill="white"/><rect x="2075" y="755" width="250" height="170" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2080 759)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="29.32" y="15" textLength="15.696">Pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="44.728" y="15" textLength="60.432">otocolPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="104.872" y="15" textLength="36.448">obeT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="139.848" y="15" textLength="70.832">rampoline</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="24.872" y="33" textLength="24.592">::Pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="49.176" y="33" textLength="60.432">otocolPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="109.32" y="33" textLength="36.448">obeT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="144.296" y="33" textLength="70.832">rampoline</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="40.656" y="51" textLength="18.96">(pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="59.328" y="51" textLength="140.016">obe, netvc-&gt;mutex,</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="70.632" y="69" textLength="27.616">buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="98.248" y="69" textLength="13.92">er</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="110.696" y="69" textLength="14.224">, r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="124.632" y="69" textLength="49.184">eader) </tspan></text><rect x="1400" y="937.5" width="200" height="100" fill="white"/><rect x="1400" y="937.5" width="200" height="100" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1405 942.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="50.184" y="15" textLength="51.568">npnPar</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="101.464" y="15" textLength="38.352">ent-&gt;</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="55.52" y="33" textLength="78.96">endpoint-&gt;</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="50.84" y="51" textLength="88.32">handleEvent</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="11.904" y="69" textLength="163.52">(NET_EVENT_ACCEPT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="173.648" y="69" textLength="4.448">,</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="73.368" y="87" textLength="43.264">netvc)</tspan></text><rect x="1725" y="925" width="250" height="400" fill="white"/><rect x="1725" y="925" width="250" height="400" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1730 925)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="14.96" y="15" textLength="15.696">Pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="30.368" y="15" textLength="60.432">otocolPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="90.512" y="15" textLength="134.528">obeSessionAccept</tspan></text><line x1="1892.6829" y1="1200" x2="2115.168" y2="939.37467" marker-end="url(#FilledArrow_Marker_5)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><path d="M 1600 987.5 L 1675 987.5 L 1731.1 987.5" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="1750" y="1050" width="200" height="50" fill="white"/><rect x="1750" y="1050" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1755 1057)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="76.416" y="15" textLength="41.616">buf = </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="11.536" y="33" textLength="166.928">ssl_vc-&gt;get_ssl_iobuf();</tspan></text><rect x="1750" y="1150" width="200" height="50" fill="white"/><rect x="1750" y="1150" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1755 1157)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="65.16" y="15" textLength="5.328">r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="70.2" y="15" textLength="59.088">eader = </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="6.648" y="33" textLength="123.664">ssl_vc-&gt;get_ssl_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="130.024" y="33" textLength="53.328">eader();</tspan></text><rect x="1100" y="1050" width="125" height="50" fill="white"/><rect x="1100" y="1050" width="125" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1105 1066)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="10.388" y="15" textLength="94.224">get_ssl_iobuf</tspan></text><rect x="1100" y="1150" width="125" height="50" fill="white"/><rect x="1100" y="1150" width="125" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1105 1166)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="5.5" y="15" textLength="63.696">get_ssl_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="68.908" y="15" textLength="40.592">eader</tspan></text><line x1="1731.1" y1="1075" x2="1243.9" y2="1075" marker-end="url(#FilledArrow_Marker_3)" marker-start="url(#FilledArrow_Marker_6)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" stroke-dasharray="4,4"/><line x1="1731.1" y1="1175" x2="1243.9" y2="1175" marker-end="url(#FilledArrow_Marker_3)" marker-start="url(#FilledArrow_Marker_6)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" stroke-dasharray="4,4"/><line x1="1050" y1="1075" x2="1081.1" y2="1075" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" stroke-dasharray="2,2"/><line x1="1050" y1="1175" x2="1081.1" y2="1175" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" stroke-dasharray="2,2"/><rect x="2100" y="850" width="200" height="50" fill="white"/><rect x="2100" y="850" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2105 858)" fill="black"><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="20.712" y="14" textLength="148.576">ioCompletionEvent</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="50.992" y="31" textLength="88.016">(event, data)</tspan></text><line x1="2200" y1="900" x2="2200" y2="1018.6" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="2300" y1="1075" x2="2406.1" y2="1075" marker-end="url(#FilledArrow_Marker_5)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="900" y="1050" width="150" height="50" fill="white"/><rect x="900" y="1050" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(905 1066)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="10.408" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="69.736" y="15" textLength="59.856">er *iobuf</tspan></text><rect x="900" y="1150" width="150" height="50" fill="white"/><rect x="900" y="1150" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(905 1157)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="14.568" y="15" textLength="45.392">IOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="59.96" y="15" textLength="69.92">erReader </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="44.368" y="33" textLength="10.96">*r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="55.04" y="33" textLength="40.592">eader</tspan></text><rect x="275" y="725" width="650" height="125" fill="white"/><rect x="275" y="725" width="650" height="125" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(280 770.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="306.96" y="15" textLength="26.08">VIO</tspan><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="246.152" y="32" textLength="147.696">(NetState read.vio)</tspan></text><rect x="700" y="800" width="200" height="50" fill="white"/><rect x="700" y="800" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(705 816)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="9.664" y="15" textLength="170.672">VConnection *vc_server</tspan></text><rect x="300" y="725" width="200" height="50" fill="white"/><rect x="300" y="725" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(305 741)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="2.056" y="15" textLength="59.328">MIOBuff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="61.384" y="15" textLength="112.64">erAccessor buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="174.024" y="15" textLength="13.92">er</tspan></text><path d="M 200 837.5 L 1275 837.5 L 1275 912.5 L 1381.1 912.5" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><path d="M 200 837.5094 L 1975 838.1758 L 1975 875 L 2081.1 875" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><path d="M 500 750 L 875 750 L 875 1075 L 881.1 1075" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="500" y1="750" x2="2431.1" y2="750" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="816.1605" y="735" width="103" height="30" fill="white"/><text transform="translate(821.1605 741)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".116" y="15" textLength="27.616">buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="27.732" y="15" textLength="13.92">er</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="40.18" y="15" textLength="52.704">.writer()</tspan></text><rect x="2450" y="812.5" width="200" height="50" fill="white"/><rect x="2450" y="812.5" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(2455 828.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="9.352" y="15" textLength="61.344">handle_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="70.408" y="15" textLength="110.24">ead(event,data)</tspan></text><line x1="200" y1="837.5" x2="2431.1" y2="837.5" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="1750" y="962.5" width="200" height="50" fill="white"/><rect x="1750" y="962.5" width="200" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1755 978.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="13.496" y="15" textLength="163.008">mainEvent(event, data)</tspan></text><rect x="1750" y="1200" width="200" height="100" fill="white"/><rect x="1750" y="1200" width="200" height="100" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(1755 1205)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="4.32" y="15" textLength="15.696">Pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="19.728" y="15" textLength="60.432">otocolPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="79.872" y="15" textLength="36.448">obeT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="114.848" y="15" textLength="75.28">rampoline </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="47.232" y="33" textLength="20.448">*pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="67.392" y="33" textLength="79.824">obe = new </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="4.32" y="51" textLength="15.696">Pr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="19.728" y="51" textLength="60.432">otocolPr</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="79.872" y="51" textLength="36.448">obeT</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="114.848" y="51" textLength="70.832">rampoline</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="23.808" y="69" textLength="146.832">(this, netvc-&gt;mutex, </tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="51.88" y="87" textLength="37.344">buf, r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="88.936" y="87" textLength="49.184">eader);</tspan></text><rect x="1288.9756" y="897.5" width="57" height="30" fill="white"/><text transform="translate(1293.9756 903.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".084" y="15" textLength="46.832">Step 1</tspan></text><rect x="1989.0832" y="860" width="57" height="30" fill="white"/><text transform="translate(1994.0832 866)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".084" y="15" textLength="46.832">Step 2</tspan></text><rect x="2337.4681" y="822.5" width="57" height="30" fill="white"/><text transform="translate(2342.4681 828.5)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".084" y="15" textLength="46.832">Step 3</tspan></text><rect x="50" y="1162.5" width="50" height="200" fill="white"/><rect x="50" y="1162.5" width="50" height="200" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(66 1357.5) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="16.016" y="15" textLength="66.432">load_buff</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="82.448" y="15" textLength="91.536">er_and_write</tspan></text><line x1="150" y1="1300" x2="116.904674" y2="1283.4523" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="575" y1="1050" x2="575" y2="1018.9" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="500" y="950" width="150" height="50" fill="white"/><rect x="500" y="950" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(505 966)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="17.264" y="15" textLength="5.328">r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="22.304" y="15" textLength="100.432">ead_raw_data</tspan></text><line x1="190.78947" y1="1237.5" x2="196.1064" y2="1212.2446" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="200" y="950" width="50" height="250" fill="white"/><rect x="200" y="950" width="50" height="250" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(216 1195) rotate(-90)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="25.328" y="15" textLength="189.344">sslServerHandShakeEvent</tspan></text><path d="M 250 975 L 300 975 L 481.1 975" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><path d="M 250 1175 L 435 1175 L 481.1 1175" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="650" y1="993.75" x2="681.6643" y2="1001.6661" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><line x1="200" y1="1312.5" x2="2431.1" y2="1312.5" marker-end="url(#FilledArrow_Marker_3)" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="300" y="1e3" width="150" height="50" fill="white"/><rect x="300" y="1e3" width="150" height="50" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(305 1007)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="53.704" y="15" textLength="32.592">rBIO</tspan><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="20.688" y="33" textLength="5.904">(</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="26.592" y="33" textLength="86.816">SSL_set_rfd</tspan><tspan font-family="Heiti SC" font-size="16" font-weight="300" x="113.408" y="33" textLength="5.904">)</tspan></text><line x1="500" y1="1056.25" x2="468.3357" y2="1048.3339" marker-end="url(#FilledArrow_Marker_4)" stroke="lime" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><rect x="106.29853" y="984.81154" width="80" height="30" fill="white"/><text transform="translate(111.29853 990.81154)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".328" y="15" textLength="42.96">SSL_r</tspan><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="43" y="15" textLength="26.672">ead</tspan></text><rect x="105.01079" y="1135.7118" width="83" height="30" fill="white"/><text transform="translate(110.01079 1141.7118)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x=".364" y="15" textLength="72.272">SSL_write</tspan></text><text transform="translate(492.5 1003)" fill="black" fill-opacity=".2"><tspan font-family="Helvetica Neue" font-size="60" font-weight="500" fill="black" fill-opacity=".2" x="0" y="57" textLength="460.2">Author: Oknet Xu</tspan><tspan font-family="Helvetica Neue" font-size="60" font-weight="500" fill="black" fill-opacity=".2" x="0" y="129" textLength="885.78">https://github.com/oknet/atsinter</tspan><tspan font-family="Helvetica Neue" font-size="60" font-weight="500" fill="black" fill-opacity=".2" x="886.86" y="129" textLength="108.9">nals</tspan></text></g></g></svg>
